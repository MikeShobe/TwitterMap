<!DOCTYPE html>
<html>
  <head>
    <title>TwitterMap</title>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>
    <h1>Welcome to Twitter Map</h1>
    <br>
    <script type="text/javascript" src="js/map.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script>
    <script>
      var tweetArray = [];
      var socket = io.connect('http://localhost:3000');
      socket.on('stream', function(tweet){
        // console.log(tweet);
      while (tweetArray.length < 10){
        for (key in tweet){
          console.log(tweet[key]);
          if (tweet[key]){
            var newObj = {};
            newObj[key] = tweet[key];
            tweetArray.push(newObj);
          }
        }
      }
        for (var i = 0; i < tweetArray.length; i++) {
          $('#tweets').append(tweetArray[i].text+'<br>');
        }
      });
    </script>
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCYT392nP3yDeeVVKVfnnS7Vvg3guRc0AI&callback=initMap">
    </script>

    <div id="map"></div>
    <div id="tweets"></div>

  </body>
</html>
